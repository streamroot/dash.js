{"version":3,"sources":["../../../../src/dash/DashAdapter.js"],"names":[],"mappings":"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","file":"DashAdapter.js","sourcesContent":["/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport TrackInfo from '../streaming/vo/TrackInfo';\nimport MediaInfo from '../streaming/vo/MediaInfo';\nimport StreamInfo from '../streaming/vo/StreamInfo';\nimport ManifestInfo from '../streaming/vo/ManifestInfo';\nimport Event from './vo/Event';\nimport FactoryMaker from '../core/FactoryMaker';\nimport cea608parser from '../../externals/cea608-parser';\nimport * as METRIC_LIST from './constants/DashMetricsList';\n\nfunction DashAdapter() {\n\n    //let context = this.context;\n\n    let instance,\n        dashManifestModel,\n        periods,\n        adaptations;\n\n    function setConfig(config) {\n        if (!config) return;\n\n        if (config.dashManifestModel) {\n            dashManifestModel = config.dashManifestModel;\n        }\n    }\n\n    function initialize() {\n        periods = [];\n        adaptations = {};\n    }\n\n\n    function getRepresentationForTrackInfo(trackInfo, representationController) {\n        return representationController.getRepresentationForQuality(trackInfo.quality);\n    }\n\n    function getAdaptationForMediaInfo(mediaInfo) {\n        if (!adaptations) return null;\n        return adaptations[mediaInfo.streamInfo.id][mediaInfo.index];\n    }\n\n    function getPeriodForStreamInfo(streamInfo) {\n        var ln = periods.length;\n\n        for (let i = 0; i < ln; i++) {\n            let period = periods[i];\n\n            if (streamInfo.id === period.id) return period;\n        }\n\n        return null;\n    }\n\n    function convertRepresentationToTrackInfo(manifest, representation) {\n        var trackInfo = new TrackInfo();\n        var a = representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index];\n        var r = dashManifestModel.getRepresentationFor(representation.index, a);\n\n        trackInfo.id = representation.id;\n        trackInfo.quality = representation.index;\n        trackInfo.bandwidth = dashManifestModel.getBandwidth(r);\n        trackInfo.DVRWindow = representation.segmentAvailabilityRange;\n        trackInfo.fragmentDuration = representation.segmentDuration || (representation.segments && representation.segments.length > 0 ? representation.segments[0].duration : NaN);\n        trackInfo.MSETimeOffset = representation.MSETimeOffset;\n        trackInfo.useCalculatedLiveEdgeTime = representation.useCalculatedLiveEdgeTime;\n        trackInfo.mediaInfo = convertAdaptationToMediaInfo(manifest, representation.adaptation);\n\n        return trackInfo;\n    }\n\n    function convertAdaptationToMediaInfo(manifest, adaptation) {\n        var mediaInfo = new MediaInfo();\n        var a = adaptation.period.mpd.manifest.Period_asArray[adaptation.period.index].AdaptationSet_asArray[adaptation.index];\n        var viewpoint;\n\n        mediaInfo.id = adaptation.id;\n        mediaInfo.index = adaptation.index;\n        mediaInfo.type = adaptation.type;\n        mediaInfo.streamInfo = convertPeriodToStreamInfo(manifest, adaptation.period);\n        mediaInfo.representationCount = dashManifestModel.getRepresentationCount(a);\n        mediaInfo.lang = dashManifestModel.getLanguageForAdaptation(a);\n        viewpoint = dashManifestModel.getViewpointForAdaptation(a);\n        mediaInfo.viewpoint = viewpoint ? viewpoint.value : undefined;\n        mediaInfo.accessibility = dashManifestModel.getAccessibilityForAdaptation(a).map(function (accessibility) {\n            let accessibilityValue = accessibility.value;\n            let accessibilityData = accessibilityValue;\n            if (accessibility.schemeIdUri && (accessibility.schemeIdUri.search('cea-608') >= 0) && typeof (cea608parser) !== 'undefined') {\n                if (accessibilityValue) {\n                    accessibilityData = 'cea-608:' + accessibilityValue;\n                } else {\n                    accessibilityData = 'cea-608';\n                }\n                mediaInfo.embeddedCaptions = true;\n            }\n            return accessibilityData;\n        });\n        mediaInfo.audioChannelConfiguration =  dashManifestModel.getAudioChannelConfigurationForAdaptation(a).map(function (audioChannelConfiguration) {\n            return audioChannelConfiguration.value;\n        });\n        mediaInfo.roles = dashManifestModel.getRolesForAdaptation(a).map(function (role) {\n            return role.value;\n        });\n        mediaInfo.codec = dashManifestModel.getCodec(a);\n        mediaInfo.mimeType = dashManifestModel.getMimeType(a);\n        mediaInfo.contentProtection = dashManifestModel.getContentProtectionData(a);\n        mediaInfo.bitrateList = dashManifestModel.getBitrateListForAdaptation(a);\n\n        if (mediaInfo.contentProtection) {\n            mediaInfo.contentProtection.forEach(function (item) {\n                item.KID = dashManifestModel.getKID(item);\n            });\n        }\n\n        mediaInfo.isText = dashManifestModel.getIsTextTrack(mediaInfo.mimeType);\n\n        return mediaInfo;\n    }\n\n    function convertVideoInfoToEmbeddedTextInfo(mediaInfo, channel, lang) {\n        mediaInfo.id = channel; // CC1, CC2, CC3, or CC4\n        mediaInfo.index = 100 + parseInt(channel.substring(2, 3));\n        mediaInfo.type = 'embeddedText';\n        mediaInfo.codec = 'cea-608-in-SEI';\n        mediaInfo.isText = true;\n        mediaInfo.isEmbedded = true;\n        mediaInfo.lang = channel + ' ' + lang;\n        mediaInfo.roles = ['caption'];\n    }\n\n    function convertPeriodToStreamInfo(manifest, period) {\n        let streamInfo = new StreamInfo();\n        const THRESHOLD = 1;\n\n        streamInfo.id = period.id;\n        streamInfo.index = period.index;\n        streamInfo.start = period.start;\n        streamInfo.duration = period.duration;\n        streamInfo.manifestInfo = convertMpdToManifestInfo(manifest, period.mpd);\n        streamInfo.isLast = manifest.Period_asArray.length === 1 || Math.abs((streamInfo.start + streamInfo.duration) - streamInfo.manifestInfo.duration) < THRESHOLD;\n        streamInfo.isFirst = manifest.Period_asArray.length === 1 || dashManifestModel.getRegularPeriods(manifest, dashManifestModel.getMpd(manifest))[0].id === period.id;\n\n        return streamInfo;\n    }\n\n    function convertMpdToManifestInfo(manifest, mpd) {\n        var manifestInfo = new ManifestInfo();\n\n        manifestInfo.DVRWindowSize = mpd.timeShiftBufferDepth;\n        manifestInfo.loadedTime = mpd.manifest.loadedTime;\n        manifestInfo.availableFrom = mpd.availabilityStartTime;\n        manifestInfo.minBufferTime = mpd.manifest.minBufferTime;\n        manifestInfo.maxFragmentDuration = mpd.maxSegmentDuration;\n        manifestInfo.duration = dashManifestModel.getDuration(manifest);\n        manifestInfo.isDynamic = dashManifestModel.getIsDynamic(manifest);\n\n        return manifestInfo;\n    }\n\n    function getMediaInfoForType(manifest, streamInfo, type) {\n\n        let data = dashManifestModel.getAdaptationForType(manifest, streamInfo.index, type, streamInfo);\n        if (!data) return null;\n\n        let periodInfo = getPeriodForStreamInfo(streamInfo);\n        let periodId = periodInfo.id;\n        let idx = dashManifestModel.getIndexForAdaptation(data, manifest, streamInfo.index);\n\n        adaptations[periodId] = adaptations[periodId] || dashManifestModel.getAdaptationsForPeriod(manifest, periodInfo);\n\n        return convertAdaptationToMediaInfo(manifest, adaptations[periodId][idx]);\n    }\n\n    function getAllMediaInfoForType(manifest, streamInfo, type) {\n        var periodInfo = getPeriodForStreamInfo(streamInfo);\n        var periodId = periodInfo.id;\n        var adaptationsForType = dashManifestModel.getAdaptationsForType(manifest, streamInfo.index, type !== 'embeddedText' ? type : 'video');\n\n        var mediaArr = [];\n\n        var data,\n            media,\n            idx,\n            i,\n            j,\n            ln;\n\n        if (!adaptationsForType) return mediaArr;\n\n        adaptations[periodId] = adaptations[periodId] || dashManifestModel.getAdaptationsForPeriod(manifest, periodInfo);\n\n        for (i = 0, ln = adaptationsForType.length; i < ln; i++) {\n            data = adaptationsForType[i];\n            idx = dashManifestModel.getIndexForAdaptation(data, manifest, streamInfo.index);\n            media = convertAdaptationToMediaInfo(manifest, adaptations[periodId][idx]);\n\n            if (type === 'embeddedText') {\n                var accessibilityLength = media.accessibility.length;\n                for (j = 0; j < accessibilityLength; j++) {\n                    if (!media) {\n                        continue;\n                    }\n                    var accessibility = media.accessibility[j];\n                    if (accessibility.indexOf('cea-608:') === 0) {\n                        var value = accessibility.substring(8);\n                        var parts = value.split(';');\n                        if (parts[0].substring(0, 2) === 'CC') {\n                            for (j = 0; j < parts.length; j++) {\n                                if (!media) {\n                                    media = convertAdaptationToMediaInfo.call(this, manifest, adaptations[periodId][idx]);\n                                }\n                                convertVideoInfoToEmbeddedTextInfo(media, parts[j].substring(0, 3), parts[j].substring(4));\n                                mediaArr.push(media);\n                                media = null;\n                            }\n                        } else {\n                            for (j = 0; j < parts.length; j++) { // Only languages for CC1, CC2, ...\n                                if (!media) {\n                                    media = convertAdaptationToMediaInfo.call(this, manifest, adaptations[periodId][idx]);\n                                }\n                                convertVideoInfoToEmbeddedTextInfo(media, 'CC' + (j + 1), parts[j]);\n                                mediaArr.push(media);\n                                media = null;\n                            }\n                        }\n                    } else if (accessibility.indexOf('cea-608') === 0) { // Nothing known. We interpret it as CC1=eng\n                        convertVideoInfoToEmbeddedTextInfo(media, 'CC1', 'eng');\n                        mediaArr.push(media);\n                        media = null;\n                    }\n                }\n            }\n            if (media && type !== 'embeddedText') {\n                mediaArr.push(media);\n            }\n        }\n\n        return mediaArr;\n    }\n\n    function getStreamsInfo(manifest) {\n\n        if (!manifest) return null;\n\n        const streams = [];\n        const mpd = dashManifestModel.getMpd(manifest);\n\n        periods = dashManifestModel.getRegularPeriods(manifest, mpd);\n        adaptations = {};\n\n        for (let i = 0, ln = periods.length; i < ln; i++) {\n            streams.push(convertPeriodToStreamInfo(manifest, periods[i]));\n        }\n\n        return streams;\n    }\n\n    function getManifestInfo(manifest) {\n        var mpd = dashManifestModel.getMpd(manifest);\n        return convertMpdToManifestInfo(manifest, mpd);\n    }\n\n    function getInitRequest(streamProcessor, quality) {\n        var representation = streamProcessor.getRepresentationController().getRepresentationForQuality(quality);\n        return streamProcessor.getIndexHandler().getInitRequest(representation);\n    }\n\n    function getNextFragmentRequest(streamProcessor, trackInfo) {\n        var representation = getRepresentationForTrackInfo(trackInfo, streamProcessor.getRepresentationController());\n        return streamProcessor.getIndexHandler().getNextSegmentRequest(representation);\n    }\n\n    function getFragmentRequestForTime(streamProcessor, trackInfo, time, options) {\n        var representation = getRepresentationForTrackInfo(trackInfo, streamProcessor.getRepresentationController());\n        return streamProcessor.getIndexHandler().getSegmentRequestForTime(representation, time, options);\n    }\n\n    function generateFragmentRequestForTime(streamProcessor, trackInfo, time) {\n        var representation = getRepresentationForTrackInfo(trackInfo, streamProcessor.getRepresentationController());\n        return streamProcessor.getIndexHandler().generateSegmentRequestForTime(representation, time);\n    }\n\n    function getIndexHandlerTime(streamProcessor) {\n        return streamProcessor.getIndexHandler().getCurrentTime();\n    }\n\n    function setIndexHandlerTime(streamProcessor, value) {\n        return streamProcessor.getIndexHandler().setCurrentTime(value);\n    }\n\n    function updateData(manifest, streamProcessor) {\n        var periodInfo = getPeriodForStreamInfo(streamProcessor.getStreamInfo());\n        var mediaInfo = streamProcessor.getMediaInfo();\n        var adaptation = getAdaptationForMediaInfo(mediaInfo);\n        var type = streamProcessor.getType();\n\n        var id,\n            data;\n\n        id = mediaInfo.id;\n        data = id ? dashManifestModel.getAdaptationForId(id, manifest, periodInfo.index) : dashManifestModel.getAdaptationForIndex(mediaInfo.index, manifest, periodInfo.index);\n        streamProcessor.getRepresentationController().updateData(data, adaptation, type);\n    }\n\n    function getRepresentationInfoForQuality(manifest, representationController, quality) {\n        var representation = representationController.getRepresentationForQuality(quality);\n        return representation ? convertRepresentationToTrackInfo(manifest, representation) : null;\n    }\n\n    function getCurrentRepresentationInfo(manifest, representationController) {\n        var representation = representationController.getCurrentRepresentation();\n        return representation ? convertRepresentationToTrackInfo(manifest, representation) : null;\n    }\n\n    function getEvent(eventBox, eventStreams, startTime) {\n        var event = new Event();\n        var schemeIdUri = eventBox.scheme_id_uri;\n        var value = eventBox.value;\n        var timescale = eventBox.timescale;\n        var presentationTimeDelta = eventBox.presentation_time_delta;\n        var duration = eventBox.event_duration;\n        var id = eventBox.id;\n        var messageData = eventBox.message_data;\n        var presentationTime = startTime * timescale + presentationTimeDelta;\n\n        if (!eventStreams[schemeIdUri]) return null;\n\n        event.eventStream = eventStreams[schemeIdUri];\n        event.eventStream.value = value;\n        event.eventStream.timescale = timescale;\n        event.duration = duration;\n        event.id = id;\n        event.presentationTime = presentationTime;\n        event.messageData = messageData;\n        event.presentationTimeDelta = presentationTimeDelta;\n\n        return event;\n    }\n\n    function getEventsFor(manifest, info, streamProcessor) {\n        var events = [];\n\n        if (info instanceof StreamInfo) {\n            events = dashManifestModel.getEventsForPeriod(manifest, getPeriodForStreamInfo(info));\n        } else if (info instanceof MediaInfo) {\n            events = dashManifestModel.getEventStreamForAdaptationSet(manifest, getAdaptationForMediaInfo(info));\n        } else if (info instanceof TrackInfo) {\n            events = dashManifestModel.getEventStreamForRepresentation(manifest, getRepresentationForTrackInfo(info, streamProcessor.getRepresentationController()));\n        }\n\n        return events;\n    }\n\n    function reset() {\n        periods = [];\n        adaptations = {};\n    }\n\n    instance = {\n        initialize: initialize,\n        convertDataToTrack: convertRepresentationToTrackInfo,\n        convertDataToMedia: convertAdaptationToMediaInfo,\n        convertDataToStream: convertPeriodToStreamInfo,\n        getDataForTrack: getRepresentationForTrackInfo,\n        getDataForMedia: getAdaptationForMediaInfo,\n        getDataForStream: getPeriodForStreamInfo,\n        getStreamsInfo: getStreamsInfo,\n        getManifestInfo: getManifestInfo,\n        getMediaInfoForType: getMediaInfoForType,\n        getAllMediaInfoForType: getAllMediaInfoForType,\n        getCurrentRepresentationInfo: getCurrentRepresentationInfo,\n        getRepresentationInfoForQuality: getRepresentationInfoForQuality,\n        updateData: updateData,\n        getInitRequest: getInitRequest,\n        getNextFragmentRequest: getNextFragmentRequest,\n        getFragmentRequestForTime: getFragmentRequestForTime,\n        generateFragmentRequestForTime: generateFragmentRequestForTime,\n        getIndexHandlerTime: getIndexHandlerTime,\n        setIndexHandlerTime: setIndexHandlerTime,\n        getEventsFor: getEventsFor,\n        getEvent: getEvent,\n        setConfig: setConfig,\n        reset: reset,\n        metricsList: METRIC_LIST\n    };\n\n    return instance;\n}\n\nDashAdapter.__dashjs_factory_name = 'DashAdapter';\nexport default FactoryMaker.getSingletonFactory(DashAdapter);\n"]}